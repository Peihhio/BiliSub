<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="BÁ´ôËßÜÈ¢ëÂ≠óÂπïÊèêÂèñÂ∑•ÂÖ∑ - ‰ΩøÁî®ÈòøÈáå‰∫ëParaformer AIËØ≠Èü≥ËØÜÂà´ÊäÄÊúØ‰ªéBÁ´ôËßÜÈ¢ë‰∏≠ÊèêÂèñÂ≠óÂπï">
    <title>BiliSub - BÁ´ôÂ≠óÂπïÊèêÂèñ</title>
    <!-- ‰ΩøÁî®ÂõΩÂÜÖ CDN ÈïúÂÉèÂä†ÈÄüÂ≠ó‰ΩìÂä†ËΩΩ -->
    <link rel="preconnect" href="https://fonts.loli.net" crossorigin>
    <link href="https://fonts.loli.net/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="background-decoration">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
    </div>

    <div class="container">
        <header class="header">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                <h1>BiliSub</h1>
            </div>
            <p class="subtitle">AIÈ©±Âä®ÁöÑBÁ´ôËßÜÈ¢ëÂ≠óÂπïÊèêÂèñÂ∑•ÂÖ∑</p>

            <!-- Áî®Êà∑‰ø°ÊÅØÂå∫Âüü -->
            <div class="user-area" id="userArea">
                <span class="user-name" id="userName">Áî®Êà∑</span>
                <button class="user-menu-btn" id="userMenuBtn" onclick="toggleUserMenu()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                        <circle cx="12" cy="7" r="4" />
                    </svg>
                </button>
                <div class="user-dropdown" id="userDropdown">
                    <a href="#" onclick="showChangePasswordModal(); return false;">‰øÆÊîπÂØÜÁ†Å</a>
                    <a href="/admin" id="adminLink" style="display: none;">ÁÆ°ÁêÜÂêéÂè∞</a>
                    <a href="#" onclick="logout(); return false;" class="logout-link">ÈÄÄÂá∫ÁôªÂΩï</a>
                </div>
            </div>
        </header>

        <main class="main-content">
            <!-- ÈÖçÁΩÆÂå∫Âüü -->
            <!-- ÈÖçÁΩÆÂå∫Âüü -->
            <section class="card config-section" id="configSection">
                <div class="config-header" id="configHeader" onclick="toggleConfigSection()">
                    <div class="header-title">
                        <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path
                                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                            </path>
                        </svg>
                        <h2>ÈÖçÁΩÆ</h2>
                    </div>

                    <!-- ÈÖçÁΩÆÁä∂ÊÄÅÊëòË¶Å -->
                    <div class="config-status-summary">
                        <span class="config-status-item" id="apiKeyStatus">
                            <span class="status-dot" id="apiKeyStatusDot"></span>
                            API Key
                        </span>
                        <span class="config-status-item" id="cookieStatus">
                            <span class="status-dot" id="cookieStatusDot"></span>
                            Cookie
                        </span>
                        <span class="config-status-item" id="llmStatus">
                            <span class="status-dot" id="llmStatusDot"></span>
                            Â§ßÊ®°Âûã
                        </span>
                        <span class="config-status-item" id="storageStatus">
                            <span class="status-dot" id="storageStatusDot"></span>
                            <span id="storageStatusText">Á¨¨‰∏âÊñπÁõ¥Èìæ</span>
                        </span>
                    </div>

                    <svg class="collapse-arrow" id="configCollapseArrow" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>

                <div class="config-content" id="configContent" style="display: none;">

                    <div class="input-group">
                        <label for="apiKey" class="input-label">
                            ÈòøÈáå‰∫ë DashScope API Key
                            <span class="tooltip" data-tooltip="Âú®ÈòøÈáå‰∫ëÁôæÁÇºÂπ≥Âè∞Ëé∑ÂèñAPI Key">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                    <line x1="12" y1="17" x2="12.01" y2="17" />
                                </svg>
                            </span>
                        </label>
                        <div class="input-wrapper">
                            <input type="password" id="apiKey" placeholder="sk-xxxxxxxxxxxxxxxxxxxxxxxx"
                                autocomplete="off">
                            <button type="button" class="toggle-visibility" id="toggleApiKey" title="ÊòæÁ§∫/ÈöêËóè">
                                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                    <circle cx="12" cy="12" r="3" />
                                </svg>
                            </button>
                        </div>
                        <div class="save-key-row">
                            <button type="button" class="btn btn-secondary btn-sm" id="saveAndVerifyApiKey">
                                ‰øùÂ≠òÈÖçÁΩÆÂπ∂È™åËØÅ
                            </button>
                            <span class="verify-status" id="apiKeyVerifyStatus"></span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="biliCookie" class="input-label">
                            BÁ´ôCookieÔºàÂøÖÈúÄÔºåÁî®‰∫éÊèêÂèñAIÂ≠óÂπïÔºâ
                            <span class="tooltip" data-tooltip="ÈúÄË¶Å‰ªéÊµèËßàÂô®Â§çÂà∂ÂÆåÊï¥CookieÊâçËÉΩÊ≠£Á°ÆÊèêÂèñAIÂ≠óÂπï">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                    <line x1="12" y1="17" x2="12.01" y2="17" />
                                </svg>
                            </span>
                        </label>

                        <!-- CookieÁä∂ÊÄÅÊåáÁ§∫Âô® -->
                        <div class="cookie-status-bar" id="cookieStatusBar">
                            <div class="cookie-status-indicator" id="cookieStatusIndicator">
                                <span class="status-icon" id="cookieStatusIcon">‚ö™</span>
                                <span class="status-text" id="cookieStatusText">Êú™ÈÖçÁΩÆCookie</span>
                            </div>
                            <button type="button" id="verifyCookieBtn" class="verify-cookie-btn" title="È™åËØÅCookie">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 4 23 10 17 10" />
                                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10" />
                                </svg>
                            </button>
                        </div>

                        <!-- CookieËæìÂÖ•Âå∫Âüü -->
                        <div class="cookie-input-section">
                            <div class="input-wrapper">
                                <input type="password" id="fullCookieText" class="cookie-input"
                                    placeholder="ËØ∑‰ªéÊµèËßàÂô®Â§çÂà∂ÂÆåÊï¥CookieÁ≤òË¥¥Âà∞ËøôÈáåÔºàÂøÖÈ°ªÂåÖÂê´ SESSDATA„ÄÅbuvid3„ÄÅbili_jctÔºâ"
                                    style="width: 100%; padding-right: 40px; height: 40px;">
                                <button type="button" class="toggle-visibility" id="toggleCookieVisibility"
                                    title="ÊòæÁ§∫/ÈöêËóè Cookie">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path
                                            d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24">
                                        </path>
                                        <line x1="1" y1="1" x2="23" y2="23"></line>
                                    </svg>
                                </button>
                            </div>
                            <div class="cookie-help">
                                <details>
                                    <summary>üìñ Â¶Ç‰ΩïËé∑ÂèñCookieÔºüÔºàÁÇπÂáªÂ±ïÂºÄÔºâ</summary>
                                    <ol class="cookie-steps">
                                        <li>Âú®ChromeÊµèËßàÂô®‰∏≠ÊâìÂºÄ <a href="https://www.bilibili.com"
                                                target="_blank">bilibili.com</a> Âπ∂ÁôªÂΩï
                                        </li>
                                        <li>Êåâ <kbd>F12</kbd> ÊâìÂºÄÂºÄÂèëËÄÖÂ∑•ÂÖ∑</li>
                                        <li>ÂàáÊç¢Âà∞ <strong>NetworkÔºàÁΩëÁªúÔºâ</strong> Ê†áÁ≠æ</li>
                                        <li>Âà∑Êñ∞È°µÈù¢ÔºàÊåâ <kbd>F5</kbd>Ôºâ</li>
                                        <li>ÁÇπÂáª‰ªªÊÑè‰∏Ä‰∏™ËØ∑Ê±Ç</li>
                                        <li>Âú®Âè≥‰æß <strong>HeadersÔºàÊ†áÂ§¥Ôºâ</strong> ‰∏≠ÊâæÂà∞ <strong>Cookie</strong></li>
                                        <li>Â§çÂà∂CookieÁöÑÂÆåÊï¥ÂÜÖÂÆπÁ≤òË¥¥Âà∞‰∏äÊñπ</li>
                                    </ol>
                                </details>
                            </div>
                            <button type="button" id="saveCookieBtn" class="primary-button save-cookie-btn">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />
                                    <polyline points="17 21 17 13 7 13 7 21" />
                                    <polyline points="7 3 7 8 15 8" />
                                </svg>
                                <span>‰øùÂ≠òÂπ∂È™åËØÅCookie</span>
                            </button>
                        </div>
                        <input type="hidden" id="biliCookie" value="">
                    </div>


                    <!-- Ëá™Âª∫Â≠òÂÇ®Áä∂ÊÄÅÁî± JS Ëá™Âä®Ê£ÄÊµãÔºåÊó†ÈúÄÁî®Êà∑ÊâãÂä®ÈÖçÁΩÆ -->
                    <input type="checkbox" id="useSelfHostedStorage" style="display:none;">

                    <!-- Â§ßÊ®°ÂûãAPIÈÖçÁΩÆ -->
                    <div class="config-divider">
                        <span>Â§ßÊ®°ÂûãAPIÈÖçÁΩÆÔºàOpenAIÂÖºÂÆπÊ†ºÂºèÔºâ</span>
                    </div>

                    <div class="input-group">
                        <label for="llmApiKey" class="input-label">
                            Â§ßÊ®°Âûã API Key
                        </label>
                        <div class="input-wrapper">
                            <input type="password" id="llmApiKey" placeholder="ÁïôÁ©∫Âàô‰ΩøÁî®‰∏äÊñπ DashScope API Key"
                                autocomplete="off">
                            <button type="button" class="toggle-visibility" id="toggleLlmApiKey" title="ÊòæÁ§∫/ÈöêËóè">
                                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                    <circle cx="12" cy="12" r="3" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="llmApiUrl" class="input-label">
                            API Êé•Âè£Âú∞ÂùÄ
                        </label>
                        <div class="input-wrapper">
                            <input type="text" id="llmApiUrl"
                                placeholder="ÈªòËÆ§: https://dashscope.aliyuncs.com/compatible-mode/v1">
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="llmModelName" class="input-label">
                            Ê®°ÂûãÂêçÁß∞
                        </label>
                        <div class="input-wrapper">
                            <input type="text" id="llmModelName" placeholder="ÈªòËÆ§: qwen-plus">
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="llmPrompt" class="input-label">
                            ÊèêÁ§∫ËØçÔºàSystem PromptÔºâ
                        </label>
                        <div class="llm-prompt-section">
                            <textarea id="llmPrompt" rows="4" placeholder="ÈªòËÆ§: ËØ∑Â∞Ü‰ª•‰∏ãËßÜÈ¢ëÂ≠óÂπïÊÄªÁªì‰∏∫150Â≠óÊëòË¶Å„ÄÇ"></textarea>
                        </div>
                    </div>

                    <!-- LLMÁä∂ÊÄÅÊåáÁ§∫Âô® -->
                    <div class="llm-status-bar" id="llmStatusBar">
                        <div class="llm-status-indicator" id="llmStatusIndicator">
                            <span class="status-icon" id="llmStatusIcon">‚ö™</span>
                            <span class="status-text" id="llmStatusText">Êú™ÈÖçÁΩÆ</span>
                        </div>
                    </div>

                    <button type="button" id="saveLlmConfigBtn" class="primary-button save-llm-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />
                            <polyline points="17 21 17 13 7 13 7 21" />
                            <polyline points="7 3 7 8 15 8" />
                        </svg>
                        <span>‰øùÂ≠òÈÖçÁΩÆÂπ∂ÊµãËØï</span>
                    </button>

                    <div class="separator-line"></div>

                    <button type="button" id="cleanupBtn" class="secondary-button" title="Ê∏ÖÁêÜ‰∏¥Êó∂Êñá‰ª∂" style="width: auto;">
                        <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6" />
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                        </svg>
                        <span>Ê∏ÖÁêÜÁºìÂ≠ò</span>
                    </button>

                    <div class="separator-line"></div>

                    <!-- config-content ÁªìÊùü -->
                </div>

                <div class="input-group">
                    <label for="videoUrl" class="input-label">
                        BÁ´ôËßÜÈ¢ë/Êí≠ÊîæÂàóË°®/ÂêàÈõÜÈìæÊé•
                        <span class="tooltip" data-tooltip="ÊîØÊåÅÂçï‰∏™ËßÜÈ¢ë„ÄÅÊí≠ÊîæÂàóË°®ÊàñÂêàÈõÜÈìæÊé•">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10" />
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                <line x1="12" y1="17" x2="12.01" y2="17" />
                            </svg>
                        </span>
                    </label>
                    <div class="input-wrapper">
                        <input type="text" id="videoUrl" placeholder="https://www.bilibili.com/video/BV... ÊàñÂêàÈõÜÈìæÊé•">
                    </div>
                </div>

                <button type="button" id="extractBtn" class="primary-button">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="5 3 19 12 5 21 5 3" />
                    </svg>
                    <span class="button-text">ÊèêÂèñÂ≠óÂπï</span>
                    <div class="button-loader" style="display: none;"></div>
                </button>

                <!-- Guest ÈÖçÈ¢ùÊòæÁ§∫ -->
                <div id="guestQuotaDisplay" class="guest-quota-display" style="display: none;">
                    <span class="quota-label">‰ªäÊó•ÈÖçÈ¢ùÔºö</span>
                    <span id="guestQuotaRemaining">5</span>/<span id="guestQuotaTotal">5</span>
                </div>

                <!-- ÊâπÈáèËøõÂ∫¶Âå∫Âüü -->
                <div class="batch-progress-section" id="batchProgressSection" style="display: none;">
                    <div class="batch-header">
                        <h3 id="batchTitle">Ê≠£Âú®Â§ÑÁêÜ...</h3>
                        <div class="batch-controls">
                            <span class="batch-status-badge processing" id="batchStatusBadge">Â§ÑÁêÜ‰∏≠</span>
                            <button type="button" class="cancel-batch-btn" id="cancelBatchBtn"
                                onclick="cancelBatchProcess()">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                                ÂèñÊ∂à
                            </button>
                        </div>
                    </div>

                    <!-- ÊÄªËøõÂ∫¶ -->
                    <div class="batch-total-progress">
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="batchTotalProgressBar" style="width: 0%"></div>
                        </div>
                        <span class="total-percent" id="batchTotalPercent">0%</span>
                    </div>

                    <!-- ËßÜÈ¢ë‰ªªÂä°ÂàóË°® -->
                    <div class="batch-video-list" id="batchVideoList">
                        <!-- Javascript Â∞ÜÂú®ËøôÈáåÊèíÂÖ•‰ªªÂä°È°π -->
                    </div>
                </div>
            </section>
        </main>

        <!-- ÂΩìÂâç‰ªªÂä°Âå∫ÂüüÔºà‰∏éÂéÜÂè≤‰ªªÂä°ÂêåÁ∫ßÔºåÁ°Æ‰øùÂÆΩÂ∫¶‰∏ÄËá¥Ôºâ -->
        <section class="history-section" id="currentTaskSection">
            <div class="section-header">
                <h2>üöÄ ÂΩìÂâç‰ªªÂä°</h2>
            </div>
            <div class="results-grid">
                <section class="video-list-section history-list-section">
                    <div class="history-list-header">
                        <div class="history-list-header-left">
                            <label class="checkbox-label select-all-label">
                                <input type="checkbox" id="currentSelectAll">
                                <span class="checkmark"></span>
                                ÂÖ®ÈÄâ
                            </label>
                            <span class="history-count">ÂÖ± <span id="videoCount">0</span> Êù°</span>
                        </div>
                        <div class="history-actions icon-only">
                            <button type="button" id="currentAiProcessSelected" class="icon-action-btn ai-batch"
                                title="AIÊâπÈáèÂ§ÑÁêÜÈÄâ‰∏≠" disabled>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                    <line x1="12" y1="17" x2="12.01" y2="17" />
                                </svg>
                            </button>
                            <button type="button" id="downloadAllBtn" class="icon-button" title="‰∏ãËΩΩÈÄâ‰∏≠" disabled>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                    <polyline points="7 10 12 15 17 10" />
                                    <line x1="12" y1="15" x2="12" y2="3" />
                                </svg>
                            </button>
                            <button type="button" id="currentDeleteSelected" class="icon-action-btn danger" title="Âà†Èô§ÈÄâ‰∏≠"
                                disabled>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="3 6 5 6 21 6" />
                                    <path
                                        d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                                </svg>
                            </button>
                            <button type="button" id="currentClearAll" class="icon-button danger" title="Ê∏ÖÁ©∫ÂàóË°®">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="15" y1="9" x2="9" y2="15" />
                                    <line x1="9" y1="9" x2="15" y2="15" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="video-list-content history-video-list" id="videoListContainer">
                        <div class="empty-state">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <rect x="2" y="7" width="20" height="15" rx="2" ry="2" />
                                <polyline points="17 2 12 7 7 2" />
                            </svg>
                            <p>ËæìÂÖ•Êí≠ÊîæÂàóË°®ÊàñÂêàÈõÜÈìæÊé•ÂêéÔºåËßÜÈ¢ëÂàóË°®Â∞ÜÊòæÁ§∫Âú®ËøôÈáå</p>
                        </div>
                    </div>
                </section>

                <section class="transcript-section history-transcript-section">
                    <div class="section-header">
                        <h3 id="currentVideoTitle">ÈÄâÊã©ËßÜÈ¢ëÊü•ÁúãÂ≠óÂπï</h3>
                    </div>
                    <div class="transcript-container" id="transcriptContainer">
                        <div class="empty-state">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                            </svg>
                            <p>ÁÇπÂáªÂ∑¶‰æßËßÜÈ¢ëÂàóË°®‰∏≠ÁöÑËßÜÈ¢ëÂêçÁß∞Êü•ÁúãÂ≠óÂπï</p>
                        </div>
                    </div>
                </section>
            </div>
        </section>

        <!-- ÂéÜÂè≤‰ªªÂä°Âå∫Âüü -->
        <section class="history-section" id="historySection">
            <div class="section-header">
                <h2>üìö ÂéÜÂè≤‰ªªÂä°</h2>
            </div>
            <div class="results-grid">
                <section class="video-list-section history-list-section">
                    <div class="history-list-header">
                        <div class="history-list-header-left">
                            <label class="checkbox-label select-all-label">
                                <input type="checkbox" id="historySelectAll">
                                <span class="checkmark"></span>
                                ÂÖ®ÈÄâ
                            </label>
                            <span class="history-count">ÂÖ± <span id="historyCount">0</span> Êù°</span>
                        </div>
                        <div class="history-actions icon-only">
                            <button type="button" id="historyAiProcessSelected" class="icon-action-btn ai-batch"
                                title="AIÊâπÈáèÂ§ÑÁêÜÈÄâ‰∏≠" disabled>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                    <line x1="12" y1="17" x2="12.01" y2="17" />
                                </svg>
                            </button>
                            <button type="button" id="historyDownloadSelected" class="icon-action-btn" title="‰∏ãËΩΩÈÄâ‰∏≠"
                                disabled>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                    <polyline points="7 10 12 15 17 10" />
                                    <line x1="12" y1="15" x2="12" y2="3" />
                                </svg>
                            </button>
                            <button type="button" id="historyDeleteSelected" class="icon-action-btn danger" title="Âà†Èô§ÈÄâ‰∏≠"
                                disabled>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="3 6 5 6 21 6" />
                                    <path
                                        d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                                </svg>
                            </button>
                            <button type="button" id="historyClearAll" class="icon-action-btn danger" title="ÂÖ®ÈÉ®Âà†Èô§">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="15" y1="9" x2="9" y2="15" />
                                    <line x1="9" y1="9" x2="15" y2="15" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="video-list history-video-list" id="historyVideoList">
                        <div class="empty-state">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <p>ÊöÇÊó†ÂéÜÂè≤ËÆ∞ÂΩï</p>
                        </div>
                    </div>
                </section>

                <section class="transcript-section history-transcript-section">
                    <div class="section-header">
                        <h3 id="historyCurrentVideoTitle">ÈÄâÊã©ËßÜÈ¢ëÊü•ÁúãÂ≠óÂπï</h3>
                    </div>
                    <div class="transcript-container" id="historyTranscriptContainer">
                        <div class="empty-state">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                            </svg>
                            <p>ÁÇπÂáªÂ∑¶‰æßËßÜÈ¢ëÊü•ÁúãÂ≠óÂπï</p>
                        </div>
                    </div>
                </section>
            </div>
        </section>

        <footer class="footer">
            <p>‰ΩøÁî® <a href="https://help.aliyun.com/zh/model-studio/paraformer-real-time-speech-recognition-api"
                    target="_blank">ÈòøÈáå‰∫ë Paraformer</a> Êèê‰æõËØ≠Èü≥ËØÜÂà´ËÉΩÂäõ</p>
        </footer>
    </div>

    <div class="toast" id="toast"></div>

    <!-- ‰øÆÊîπÂØÜÁ†ÅÂºπÁ™ó -->
    <div class="modal" id="changePasswordModal">
        <div class="modal-content">
            <h3>‰øÆÊîπÂØÜÁ†Å</h3>
            <div class="form-group">
                <label>ÂéüÂØÜÁ†Å</label>
                <input type="password" id="oldPassword" placeholder="ËØ∑ËæìÂÖ•ÂéüÂØÜÁ†Å">
            </div>
            <div class="form-group">
                <label>Êñ∞ÂØÜÁ†Å</label>
                <input type="password" id="newPassword" placeholder="Ëá≥Â∞ë 4 ‰∏™Â≠óÁ¨¶">
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" onclick="hideChangePasswordModal()">ÂèñÊ∂à</button>
                <button class="btn-primary" onclick="changePassword()">Á°ÆËÆ§‰øÆÊîπ</button>
            </div>
        </div>
    </div>

    <!-- Â§ñÈÉ®Â∫ì‰ΩøÁî® defer Âä†ËΩΩÔºå‰∏çÈòªÂ°ûÈ°µÈù¢Ê∏≤Êüì -->
    <script defer src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="script.js?v=202512122345" defer></script>
</body>

</html>